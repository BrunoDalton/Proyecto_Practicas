<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cuestionario de Ciberseguridad</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Cuestionario de Ciberseguridad</h1>
  <form action="procesar_respuestas.php" method="post" id="cuestionario-form">
    <!-- Aquí se generarán las preguntas dinámicamente desde JavaScript -->
  </form>
  
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      var form = document.getElementById("cuestionario-form");

      // Carga el archivo cuestionario.js
      var script = document.createElement("script"); // Cambia "Cuestioario.js" a "script"
      script.src = "Cuestionario.js"; // Asegúrate de que la ruta sea correcta
      script.async = false; // Espera a que se cargue antes de continuar
      script.onload = function() {
        var preguntas = cuestionario; // Cambia "Cuestionario" a "cuestionario"
        
        preguntas.forEach(function(pregunta) {
          var fieldset = document.createElement("fieldset");
          var legend = document.createElement("legend");
          legend.textContent = pregunta.pregunta;
          fieldset.appendChild(legend);

          if (pregunta.tipo === "number") {
            var input = document.createElement("input");
            input.type = pregunta.tipo;
            input.id = pregunta.id;
            input.name = pregunta.id;
            input.placeholder = pregunta.placeholder;
            input.required = true;
            input.min = pregunta.min;
            input.max = pregunta.max;
            input.maxLength = pregunta.maxlength;
            fieldset.appendChild(input);
          } else if (pregunta.tipo === "radio") {
            pregunta.opciones.forEach(function(opcion) {
              var input = document.createElement("input");
              input.type = pregunta.tipo;
              input.id = pregunta.id + opcion.valor;
              input.name = pregunta.name;
              input.value = opcion.valor;

              var label = document.createElement("label");
              label.setAttribute("for", pregunta.id + opcion.valor);
              label.textContent = opcion.texto;

              fieldset.appendChild(input);
              fieldset.appendChild(label);
            });
          }

          form.appendChild(fieldset);
        });
      };

      // Agrega el script al final del cuerpo para cargar el cuestionario
      document.body.appendChild(script);
    });
  </script>
</body>
</html>
